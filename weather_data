import pandas as pd
import re

file_path = "/Users/saurabhkumar/Desktop/armaghdata.txt"
output_csv = "/Users/saurabhkumar/Desktop/armaghdata.csv"

clean_rows = []

with open(file_path, "r") as f:
    for line in f:
        # Keep only lines that start with a year

        if re.match(r"^\s*\d{4}", line):  # starts with year
            line = line.strip()
            parts = re.split(r'\s+', line)

            if len(parts) >= 7:
                # Optional: REMOVE footnotes like * or # or trailing text
                # -----------------------------------------
                #Uncomment the following block to clean footnotes:
                for i in range(2, 7):  # only clean columns tmax to sun
                    parts[i] = re.sub(r"[#*]", "", parts[i])
                if len(parts) > 7:  # If extra notes like "Provisional" exist
                    parts = parts[:7]
                # -----------------------------------------

                clean_rows.append(parts[:7])

df = pd.DataFrame(clean_rows, columns=["year", "month", "tmax", "tmin", "af", "rain", "sun"])
df.to_csv(output_csv, index=False)

print(f"✅ CSV saved to: {output_csv}")

Hi Celia,

Yes, that statement is correct for the context of VAT data used in ONS’s Real Time Indicators.

ONS’s methodology for the VAT flash estimates clearly states:
	•	For real-time indicators, only VAT returns received by HMRC within the first seven calendar days after the end of each month are used  ￼.
	•	It explicitly says:
“The stated month is when the return was received by HM Revenue and Customs (HMRC), not the reporting period.”  ￼

Example:
If HMRC receives a VAT return on June 5 (within the seven-day window), it is included in the June RTI publication, even if the actual business activity covered was for March–May. This ensures timeliness but introduces a lag relative to the actual reporting period.

Let me know if you’d like this formatted for a slide deck or briefing note.

Best,
Saurabh


https://www.ons.gov.uk/economy/economicoutputandproductivity/output/methodologies/coronavirusandthelatestindicatorsfortheukeconomyandsocietymethodology?utm_source=chatgpt.com
