import pandas as pd
import re

file_path = "/Users/saurabhkumar/Desktop/armaghdata.txt"
output_csv = "/Users/saurabhkumar/Desktop/armaghdata.csv"

clean_rows = []

with open(file_path, "r") as f:
    for line in f:
        # Keep only lines that start with a year

        if re.match(r"^\s*\d{4}", line):  # starts with year
            line = line.strip()
            parts = re.split(r'\s+', line)

            if len(parts) >= 7:
                # Optional: REMOVE footnotes like * or # or trailing text
                # -----------------------------------------
                #Uncomment the following block to clean footnotes:
                for i in range(2, 7):  # only clean columns tmax to sun
                    parts[i] = re.sub(r"[#*]", "", parts[i])
                if len(parts) > 7:  # If extra notes like "Provisional" exist
                    parts = parts[:7]
                # -----------------------------------------

                clean_rows.append(parts[:7])

df = pd.DataFrame(clean_rows, columns=["year", "month", "tmax", "tmin", "af", "rain", "sun"])
df.to_csv(output_csv, index=False)

print(f"✅ CSV saved to: {output_csv}")

Subject: Clarification on spaCy NLP Model (en_core_web_md/lg) – Request for Confirmation

Dear Governance and Assurance Team,

I hope you’re well.

I’m reaching out to seek clarification regarding the spaCy NLP models (en_core_web_md and en_core_web_lg) that I am requesting to be made available via the ONS Artifactory for use in our text analytics work within the DAP.

There appears to be some concern that these models may fall under the category of AI, which would require additional governance steps. However, I would like to clarify that these are pre-trained statistical natural language processing (NLP) models, used for basic text processing tasks such as tokenization, named entity recognition, and part-of-speech tagging. They do not:
	•	Include any form of generative AI or Large Language Models (LLMs),
	•	Make connections to the internet or external APIs,
	•	Perform autonomous decision-making,
	•	Or adapt/retrain themselves during use.

The models are fully deterministic and downloaded locally for use within a controlled environment, in line with standard open-source NLP libraries like spaCy (widely used in the public sector and academia).

Emma Eason mentioned that this might be considered a grey area, and recommended I reach out to your team for confirmation. If you are happy that this does not meet the definition of AI under ONS policies, we can proceed with uploading the model without triggering further governance requirements.

Please let me know if you would like any technical documentation or further clarification. I’d be happy to provide it.

Kind regards,
Saurabh Kumar
Senior Data Scientist
Office for National Statistics
