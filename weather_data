import pandas as pd
import re

file_path = "/Users/saurabhkumar/Desktop/armaghdata.txt"
output_csv = "/Users/saurabhkumar/Desktop/armaghdata.csv"

clean_rows = []

with open(file_path, "r") as f:
    for line in f:
        # Keep only lines that start with a year

        if re.match(r"^\s*\d{4}", line):  # starts with year
            line = line.strip()
            parts = re.split(r'\s+', line)

            if len(parts) >= 7:
                # Optional: REMOVE footnotes like * or # or trailing text
                # -----------------------------------------
                #Uncomment the following block to clean footnotes:
                for i in range(2, 7):  # only clean columns tmax to sun
                    parts[i] = re.sub(r"[#*]", "", parts[i])
                if len(parts) > 7:  # If extra notes like "Provisional" exist
                    parts = parts[:7]
                # -----------------------------------------

                clean_rows.append(parts[:7])

df = pd.DataFrame(clean_rows, columns=["year", "month", "tmax", "tmin", "af", "rain", "sun"])
df.to_csv(output_csv, index=False)

print(f"‚úÖ CSV saved to: {output_csv}")




üìò Title: Using SpaCy‚Äôs en_core_web_md for Labour Market Analysis in DAP

‚∏ª

Slide 1: Context and Objective
	‚Ä¢	Objective: Implement OECD-aligned methodology for analysing job adverts data within DAP
	‚Ä¢	Focus: Classify data-related tasks (data entry, data analytics, database work) using TextKernel job adverts
	‚Ä¢	Goal: Provide better real-time labour market indicators using structured NLP

‚∏ª

Slide 2: What is SpaCy and en_core_web_md?
	‚Ä¢	SpaCy is an open-source NLP library developed and maintained by Explosion AI
	‚Ä¢	en_core_web_md is a medium-sized English model that works with SpaCy, providing:
	‚Ä¢	Pretrained word vectors
	‚Ä¢	POS tagging, Named Entity Recognition (NER), noun chunking
	‚Ä¢	Semantic similarity functions
	‚Ä¢	Licensed under the MIT License (open-source, permissive, no cost)

‚∏ª

Slide 3: What en_core_web_md is NOT
	‚Ä¢	‚ùå Not an AI or LLM
	‚Ä¢	‚ùå Not a generative or predictive model
	‚Ä¢	‚ùå No internet access required
	‚Ä¢	‚ùå No external data processing or transmission
	‚Ä¢	‚úÖ Fully offline, deterministic, and static data file

‚∏ª

Slide 4: Why It Is Needed
	‚Ä¢	Core to OECD-aligned analysis of job descriptions
	‚Ä¢	Enables semantic comparison of job text to landmark task categories
	‚Ä¢	Specifically required for:
	‚Ä¢	Extracting noun chunks
	‚Ä¢	Computing cosine similarity
	‚Ä¢	Classifying tasks based on skill clusters
Slide 5: Security, Legal, and KIM Considerations

Concern
Addressed By
Internet Access
‚ùå Not required ‚Äî model runs locally
AI / LLM Concerns
‚ùå Not an AI model ‚Äî just pretrained embeddings
Data Risk
‚ùå No data leaves DAP ‚Äî all local, auditable
Licensing
‚úÖ MIT License ‚Äî free, open, legally safe
Ownership
‚úÖ Maintained by Explosion AI
Reproducibility
‚úÖ Fully version-controlled and transparent


Slide 6: What I‚Äôm Requesting
	‚Ä¢	Approval to install the en_core_web_md model inside the DAP virtual environment
	‚Ä¢	Alternatives (if needed):
	‚Ä¢	Container with model pre-installed
	‚Ä¢	Manual approval via secure installation pathway
	‚Ä¢	Risk-audited exception through the Software Request process

‚∏ª

Slide 7: Summary & Impact
	‚Ä¢	Enables structured, high-impact labour market analysis
	‚Ä¢	Supports internal replication of OECD‚Äôs methodology
	‚Ä¢	Very low operational or security risk
	‚Ä¢	Compliant with all known ONS security, legal, and policy requirements

‚∏ª

Slide 8: SpaCy vs en_core_web_md ‚Äì What‚Äôs Missing in DAP
	‚Ä¢	‚úÖ SpaCy (the library) is already installed and approved in ONS/DAP
	‚Ä¢	‚ùå Models like en_core_web_md are not available by default, but are required
	‚Ä¢	Why separate?
	‚Ä¢	Models contain pretrained weights (data), not executable code
	‚Ä¢	Designed to be downloaded once and reused offline
	‚Ä¢	Why we need the model:
	‚Ä¢	SpaCy without a model = engine without fuel
	‚Ä¢	Core functionality like tagging, chunking, similarity depends on the model
	‚Ä¢	These models are:
	‚Ä¢	‚úÖ Open-source under MIT
	‚Ä¢	‚úÖ Maintained by Explosion AI
	‚Ä¢	‚úÖ Safe and compliant for internal use
